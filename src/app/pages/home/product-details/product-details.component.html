<div class="product-detail pt-4">  
  <div class="container">
  <div class="product-detail">
    <!-- Breadcrumb -->
    <div role="button" class="breadcrumb">
      <a routerLink="/products" class="back-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        Back to Products
      </a>
    </div>

    <div class="product-container">
      <!-- Product Images -->
      <div class="image-gallery">
        <div class="main-image-wrapper">
          <div class="main-image">
            <img [src]="productData.images[selectedImage]" [alt]="productData.name">
          </div>
        </div>
        <div class="thumbnail-gallery">
          <button *ngFor="let image of productData.images; let i = index" 
                  (click)="selectedImage = i"
                  [class.active]="selectedImage === i"
                  class="thumbnail-btn">
            <img [src]="image" [alt]="productData.name + i">
          </button>
        </div>
      </div>

      <!-- Product Info -->
      <div class="product-info">
        <div class="product-header">
          <div class="badges">
            <span *ngIf="productData.isNew" class="badge badge-new">New Arrival</span>
            <span *ngIf="productData.isSale" class="badge badge-sale">On Sale</span>
          </div>

          <h1 class="product-title">{{ productData.name }}</h1>

          <!-- <div class="rating-container">
            <div class="stars">
              <ng-container *ngFor="let star of [1,2,3,4,5]; let i = index">
                <svg [class.filled]="i < productData.rating" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </ng-container>
            </div>
            <span class="rating-text">{{ productData.rating }} ({{ productData.reviewCount }} reviews)</span>
          </div> -->

          <div class="price-container">
            <span class="current-price">${{ productData.price }}</span>
            <span *ngIf="productData.originalPrice" class="original-price">
              ${{ productData.originalPrice }}
            </span>
            <span *ngIf="productData.originalPrice" class="discount">
              {{ ((productData.originalPrice - productData.price) / productData.originalPrice * 100).toFixed(0) }}% OFF
            </span>
          </div>
        </div>

        <div class="product-description">
          <p>{{ productData.description }}</p>
        </div>

        <!-- Size Selection -->
        <div class="size-selection">
          <h3>Size</h3>
          <div class="size-options">
            <button *ngFor="let size of productData.sizes" 
                    [disabled]="!size.available"
                    [class.active]="selectedSize === size.name" 
                    (click)="selectedSize = size.name"
                    class="size-btn">
              {{ size.name }}
            </button>
          </div>
        </div>

        <!-- Quantity Selection -->
        <div class="quantity-selection">
          <h3>Quantity</h3>
          <div class="quantity-controls">
            <button (click)="changeQuantity(quantity - 1)" 
                    [disabled]="quantity <= 1"
                    class="quantity-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 13H5v-2h14v2z"/>
              </svg>
            </button>
            <span class="quantity-display">{{ quantity }}</span>
            <button (click)="changeQuantity(quantity + 1)" 
                    [disabled]="quantity >= maxQuantity"
                    class="quantity-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="add-to-cart-btn" (click)="handleAddToCart()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </svg>
            Add to Cart
          </button>
          <button class="buy-now-btn">Buy Now</button>
        </div>

        <!-- Features -->
        <div class="product-features">
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
            </svg>
            <div>
              <h4>Free Shipping</h4>
              <p>On orders over $100</p>
            </div>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H16.2V16H7.8V11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.4,8.7 10.4,10V11H13.6V10C13.6,8.7 12.8,8.2 12,8.2Z"/>
            </svg>
            <div>
              <h4>2 Year Warranty</h4>
              <p>Full coverage included</p>
            </div>
          </div>
          <div class="feature-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12,6A3,3 0 0,0 9,9A3,3 0 0,0 12,12A3,3 0 0,0 15,9A3,3 0 0,0 12,6M6,8.5A2.5,2.5 0 0,0 3.5,11A2.5,2.5 0 0,0 6,13.5A2.5,2.5 0 0,0 8.5,11A2.5,2.5 0 0,0 6,8.5M18,8.5A2.5,2.5 0 0,0 15.5,11A2.5,2.5 0 0,0 18,13.5A2.5,2.5 0 0,0 20.5,11A2.5,2.5 0 0,0 18,8.5Z"/>
            </svg>
            <div>
              <h4>30 Day Returns</h4>
              <p>Easy returns policy</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Product Details Tabs -->
    <div class="product-tabs">
      <div class="tab-navigation">
        <button (click)="activeTab = 'details'" 
                [class.active]="activeTab === 'details'"
                class="tab-btn">
          Product Details
        </button>
        <button (click)="activeTab = 'sizing'" 
                [class.active]="activeTab === 'sizing'"
                class="tab-btn">
          Size Guide
        </button>
        <button (click)="activeTab = 'reviews'" 
                [class.active]="activeTab === 'reviews'"
                class="tab-btn">
          Reviews ({{ productData.reviewCount }})
        </button>
      </div>

      <div class="tab-content-wrapper">
        <div class="tab-content" *ngIf="activeTab === 'details'">
          <div class="details-grid">
            <div class="features-list">
              <h3>Key Features</h3>
              <ul>
                <li *ngFor="let feature of productData.features">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="tab-content" *ngIf="activeTab === 'sizing'">
          <div class="size-guide">
            <h3>Size Chart (inches)</h3>
            <div class="table-wrapper">
              <table class="size-table">
                <thead>
                  <tr>
                    <th>Size</th>
                    <th>Chest</th>
                    <th>Waist</th>
                    <th>Length</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let row of sizeChart">
                    <td class="size-label">{{ row.size }}</td>
                    <td>{{ row.chest }}</td>
                    <td>{{ row.waist }}</td>
                    <td>{{ row.length }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="tab-content" *ngIf="activeTab === 'reviews'">
          <div class="reviews-section">
            <div class="reviews-header">
              <h3>Customer Reviews</h3>
              <div class="rating-summary">
                <div class="overall-rating">
                  <span class="rating-score">{{ productData.rating }}</span>
                  <div class="stars">
                    <ng-container *ngFor="let star of [1,2,3,4,5]; let i = index">
                      <svg [class.filled]="i < productData.rating" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                      </svg>
                    </ng-container>
                  </div>
                  <span class="review-count">Based on {{ productData.reviewCount }} reviews</span>
                </div>
              </div>
            </div>
            <div class="reviews-placeholder">
              <p>Customer reviews will be displayed here. This feature is coming soon!</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Related Products -->
    <div class="related-products">
      <h2>You Might Also Like</h2>
      <div class="products-grid">
        <div class="product-card" *ngFor="let product of relatedProducts">
          <div class="card-image">
            <img [src]="product.image" [alt]="product.name">
            <div class="card-badges">
              <span *ngIf="product.isNew" class="badge badge-new">New</span>
              <span *ngIf="product.isSale" class="badge badge-sale">Sale</span>
            </div>
          </div>
          <div class="card-content">
            <h4>{{ product.name }}</h4>
            <div class="card-rating">
              <div class="stars">
                <ng-container *ngFor="let star of [1,2,3,4,5]; let i = index">
                  <svg [class.filled]="i < product.rating" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                </ng-container>
              </div>
              <span class="rating-count">({{ product.reviewCount }})</span>
            </div>
            <div class="card-price">
              <span class="current-price">${{ product.price }}</span>
              <span *ngIf="product.originalPrice" class="original-price">${{ product.originalPrice }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>